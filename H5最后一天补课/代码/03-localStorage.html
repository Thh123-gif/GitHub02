<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- autocomplete设置是否自动填充 -->
    <p>用户名:<input type="text" id="username" autocomplete="off" placeholder="请输入用户名"/></p>
    <p>密　码:<input type="password" id="userpass"  autocomplete="off" placeholder="请输入密码"/></p>
    <button>setItem存储数据</button>
    <button>getItem获取指定数据</button>
    <button>removeItem删除指定数据</button>
    <button>clear清空所有存储的内容</button>
    <script>
        // localStorage的使用：
        // 1.存储的内容大概20M
        // 2.不同浏览器不能共享数据。但是在同一个浏览器的不同窗口中可以共享数据(可以多窗口共享。但是不能跨浏览器)
        // 3.永久生效，它的数据是存储在硬盘上，并不会随着页面或者浏览器的关闭而清除.如果想清除，必须手动清除

        // setItem(key,value):存储数据，以键值对的方式存储
        // getItem(key):获取数据，通过指定名称的key获取对应的value值
        // removeItem(key):删除数据，通过指定名称key删除对应的值
        // clear():清空所有存储的内容

        // 注意:
        // 1. 获取数据的时候,如果找不到对应名称的key,那么就会获取null
        // 2. 在删除的时候如果key值错误，不会报错，但是也不会删除数据

        // 获取相关对象
        var username = document.getElementById("username");
        var userpass = document.getElementById("userpass");
        var btns = document.querySelectorAll("button");
        btns[0].onclick = function(){
            // 获取文本框和密码框的值
            var usernameValue = username.value;
            var userpassValue = userpass.value;
            window.localStorage.setItem("myUsername", usernameValue );
            window.localStorage.setItem("myUserpass", userpassValue );
        }
        btns[1].onclick = function(){
            console.log( window.localStorage.getItem( "myUsername" ) );
            console.log( window.localStorage.getItem( "myUserpass" ) );
            // 获取不存在的key的时候,不会报错
            // console.log( window.localStorage.getItem( "myUserSex" ) );
            console.log("");
        }
        btns[2].onclick = function(){
            // removeItem(key):删除数据，通过指定名称key删除对应的值
            window.localStorage.removeItem("myUsername");
        }

        btns[3].onclick = function(){
            window.localStorage.clear();
        }

        // 小结:
        // 1. window.localStorage 不同浏览器之间不能共享数据,但是同一个浏览器不同页面可以共享数据
        // 2. window.localStorage 永久生效，它的数据是存储在硬盘上，并不会随着页面或者浏览器的关闭而清除.如果想清除，必须手动清除
        // 3. 不同的协议,域名以及端口号  存储的数据都是相对独立  互不影响的
    </script>
</body>
</html>